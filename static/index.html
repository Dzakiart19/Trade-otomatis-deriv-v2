<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FFFFFF">
    <title>Deriv Trading Bot Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Deriv Trading Bot</h1>
            <div class="status-bar">
                <div class="connection-status" id="connection-status">
                    <span class="status-dot disconnected"></span>
                    <span class="status-text">Disconnected</span>
                </div>
                <div class="balance-display" id="balance-display">
                    <span class="balance-label">Balance:</span>
                    <span class="balance-value">--</span>
                </div>
                <div class="trading-status" id="trading-status">
                    <span class="trading-indicator">Trading: --</span>
                </div>
            </div>
        </header>

        <div class="dashboard-grid">
            <section class="charts-section">
                <h2>Live Price Charts</h2>
                <div class="strategy-selector" id="strategy-selector">
                    <span class="strategy-label">Strategy:</span>
                    <span class="strategy-name" id="current-strategy">MULTI_INDICATOR</span>
                </div>

                <div id="signal-container">
                    <div id="signal" class="neutral">
                        <div class="signal-content">
                            <span class="signal-icon">‚è≥</span>
                            <span class="signal-text">Analyzing...</span>
                        </div>
                    </div>
                </div>

                <div class="strategy-panels" id="strategy-panels">
                    <div class="strategy-panel ldp-panel" id="ldp-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">LDP - Last Digit Prediction</span>
                            <span class="panel-badge ldp">DIGIT</span>
                        </div>
                        <div class="ldp-contract-tabs">
                            <button class="ldp-tab active" data-type="over_under">Over/Under</button>
                            <button class="ldp-tab" data-type="diff_match">Diff/Match</button>
                            <button class="ldp-tab" data-type="rise_fall">Rise/Fall</button>
                        </div>
                        <div class="digit-heatmap" id="digit-heatmap">
                            <div class="digit-cell" data-digit="0"><span class="digit-num">0</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="1"><span class="digit-num">1</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="2"><span class="digit-num">2</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="3"><span class="digit-num">3</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="4"><span class="digit-num">4</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="5"><span class="digit-num">5</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="6"><span class="digit-num">6</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="7"><span class="digit-num">7</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="8"><span class="digit-num">8</span><span class="digit-freq">0%</span></div>
                            <div class="digit-cell" data-digit="9"><span class="digit-num">9</span><span class="digit-freq">0%</span></div>
                        </div>
                        <div class="ldp-stats">
                            <div class="ldp-stat hot">
                                <span class="ldp-stat-label">HOT DIGITS</span>
                                <span class="ldp-stat-value" id="hot-digits">--</span>
                            </div>
                            <div class="ldp-stat cold">
                                <span class="ldp-stat-label">COLD DIGITS</span>
                                <span class="ldp-stat-value" id="cold-digits">--</span>
                            </div>
                        </div>
                        <div class="zone-distribution">
                            <div class="zone low-zone">
                                <span class="zone-label">LOW (0-4)</span>
                                <div class="zone-bar"><div class="zone-fill" id="low-zone-fill" style="width: 50%"></div></div>
                                <span class="zone-pct" id="low-zone-pct">50%</span>
                            </div>
                            <div class="zone high-zone">
                                <span class="zone-label">HIGH (5-9)</span>
                                <div class="zone-bar"><div class="zone-fill" id="high-zone-fill" style="width: 50%"></div></div>
                                <span class="zone-pct" id="high-zone-pct">50%</span>
                            </div>
                        </div>
                        <div class="ldp-signal" id="ldp-signal">
                            <span class="ldp-signal-type">DIGITOVER</span>
                            <span class="ldp-signal-digit">5</span>
                        </div>
                    </div>

                    <div class="strategy-panel tick-analyzer-panel" id="tick-analyzer-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">Tick Picker</span>
                            <span class="panel-badge tick">TICK</span>
                        </div>
                        <div class="tick-analyzer-content">
                            <div class="streak-section">
                                <div class="streak-counter" id="streak-counter">
                                    <span class="streak-direction" id="streak-direction">UP</span>
                                    <span class="streak-count" id="streak-count">0</span>
                                    <span class="streak-label">STREAK</span>
                                </div>
                            </div>
                            <div class="tick-buttons">
                                <button class="tick-btn buy" id="tick-buy-btn">BUY</button>
                                <button class="tick-btn sell" id="tick-sell-btn">SELL</button>
                            </div>
                            <div class="momentum-section">
                                <span class="momentum-label">Momentum</span>
                                <div class="momentum-bar">
                                    <div class="momentum-negative"></div>
                                    <div class="momentum-indicator" id="momentum-indicator" style="left: 50%"></div>
                                    <div class="momentum-positive"></div>
                                </div>
                                <div class="momentum-values">
                                    <span class="momentum-bearish">BEARISH</span>
                                    <span class="momentum-value" id="momentum-value">0.00</span>
                                    <span class="momentum-bullish">BULLISH</span>
                                </div>
                            </div>
                            <div class="pattern-section">
                                <span class="pattern-label">Detected Patterns</span>
                                <div class="pattern-badges" id="pattern-badges">
                                    <span class="pattern-badge none">No pattern</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="strategy-panel terminal-panel" id="terminal-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">Terminal - Smart Analysis</span>
                            <span class="panel-badge terminal">80%</span>
                        </div>
                        <div class="terminal-content">
                            <div class="terminal-stats-row">
                                <div class="terminal-stat">
                                    <span class="terminal-stat-label">Probability</span>
                                    <span class="terminal-stat-value" id="terminal-probability">0%</span>
                                </div>
                                <div class="terminal-stat">
                                    <span class="terminal-stat-label">Direction</span>
                                    <span class="terminal-stat-value" id="terminal-direction">--</span>
                                </div>
                                <div class="terminal-stat">
                                    <span class="terminal-stat-label">ADX</span>
                                    <span class="terminal-stat-value" id="terminal-adx">0</span>
                                </div>
                            </div>
                            <div class="terminal-indicators">
                                <div class="terminal-indicator">
                                    <span class="indicator-name">RSI</span>
                                    <div class="indicator-bar">
                                        <div class="indicator-fill" id="terminal-rsi-fill" style="width: 50%"></div>
                                    </div>
                                    <span class="indicator-signal neutral" id="terminal-rsi-signal">NEUTRAL</span>
                                </div>
                                <div class="terminal-indicator">
                                    <span class="indicator-name">EMA</span>
                                    <div class="indicator-bar">
                                        <div class="indicator-fill" id="terminal-ema-fill" style="width: 50%"></div>
                                    </div>
                                    <span class="indicator-signal neutral" id="terminal-ema-signal">NEUTRAL</span>
                                </div>
                                <div class="terminal-indicator">
                                    <span class="indicator-name">MACD</span>
                                    <div class="indicator-bar">
                                        <div class="indicator-fill" id="terminal-macd-fill" style="width: 50%"></div>
                                    </div>
                                    <span class="indicator-signal neutral" id="terminal-macd-signal">NEUTRAL</span>
                                </div>
                                <div class="terminal-indicator">
                                    <span class="indicator-name">STOCH</span>
                                    <div class="indicator-bar">
                                        <div class="indicator-fill" id="terminal-stoch-fill" style="width: 50%"></div>
                                    </div>
                                    <span class="indicator-signal neutral" id="terminal-stoch-signal">NEUTRAL</span>
                                </div>
                            </div>
                            <div class="terminal-risk-selector">
                                <span class="risk-label">Risk Level:</span>
                                <div class="risk-buttons">
                                    <button class="risk-btn active" data-risk="low">Low (1.8x)</button>
                                    <button class="risk-btn" data-risk="medium">Medium (2.1x)</button>
                                    <button class="risk-btn" data-risk="high">High (2.5x)</button>
                                    <button class="risk-btn" data-risk="very_high">Very High (5.1x)</button>
                                </div>
                            </div>
                            <div class="terminal-mode-toggles">
                                <div class="mode-toggle active" id="smart-analysis-toggle">
                                    <span class="toggle-icon">üß†</span>
                                    <span class="toggle-name">Smart Analysis</span>
                                </div>
                                <div class="mode-toggle" id="hybrid-recovery-toggle">
                                    <span class="toggle-icon">üîÑ</span>
                                    <span class="toggle-name">Hybrid Recovery</span>
                                </div>
                            </div>
                            <div class="terminal-console" id="terminal-console">
                                <div class="console-line">Terminal ready - Smart Analysis 80%</div>
                            </div>
                        </div>
                    </div>

                    <div class="strategy-panel digitpad-panel" id="digitpad-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">DigitPad - Digit Prediction</span>
                            <span class="panel-badge digitpad">0-9</span>
                        </div>
                        <div class="digitpad-content">
                            <div class="digitpad-grid" id="digitpad-grid">
                                <div class="digitpad-cell" data-digit="0">
                                    <span class="dp-digit">0</span>
                                    <span class="dp-pct" id="dp-pct-0">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="1">
                                    <span class="dp-digit">1</span>
                                    <span class="dp-pct" id="dp-pct-1">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="2">
                                    <span class="dp-digit">2</span>
                                    <span class="dp-pct" id="dp-pct-2">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="3">
                                    <span class="dp-digit">3</span>
                                    <span class="dp-pct" id="dp-pct-3">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="4">
                                    <span class="dp-digit">4</span>
                                    <span class="dp-pct" id="dp-pct-4">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="5">
                                    <span class="dp-digit">5</span>
                                    <span class="dp-pct" id="dp-pct-5">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="6">
                                    <span class="dp-digit">6</span>
                                    <span class="dp-pct" id="dp-pct-6">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="7">
                                    <span class="dp-digit">7</span>
                                    <span class="dp-pct" id="dp-pct-7">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="8">
                                    <span class="dp-digit">8</span>
                                    <span class="dp-pct" id="dp-pct-8">--</span>
                                </div>
                                <div class="digitpad-cell" data-digit="9">
                                    <span class="dp-digit">9</span>
                                    <span class="dp-pct" id="dp-pct-9">--</span>
                                </div>
                            </div>
                            <div class="digitpad-even-odd">
                                <div class="eo-cell even" data-type="even">
                                    <span class="eo-label">Even</span>
                                    <span class="eo-pct" id="dp-even-pct">--</span>
                                </div>
                                <div class="eo-cell odd" data-type="odd">
                                    <span class="eo-label">ODD</span>
                                    <span class="eo-pct" id="dp-odd-pct">--</span>
                                </div>
                            </div>
                            <div class="digitpad-signals">
                                <div class="signal-chart-header">
                                    <span class="signal-chart-title">Signals Chart</span>
                                </div>
                                <div class="signal-bars">
                                    <div class="signal-bar-row">
                                        <span class="signal-label">Differ</span>
                                        <div class="signal-bar-container">
                                            <div class="signal-bar-fill" id="dp-differ-fill" style="width: 50%"></div>
                                        </div>
                                        <span class="signal-value" id="dp-differ-value">50%</span>
                                    </div>
                                    <div class="signal-bar-row">
                                        <span class="signal-label">Min</span>
                                        <span class="signal-value" id="dp-differ-min">30%</span>
                                    </div>
                                    <div class="signal-bar-row">
                                        <span class="signal-label">Max</span>
                                        <span class="signal-value" id="dp-differ-max">70%</span>
                                    </div>
                                </div>
                                <div class="digitpad-signal-indicator" id="dp-signal-indicator">
                                    <span class="dp-signal-text">Natural</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="strategy-panel amt-panel" id="amt-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">AMT - Accumulator</span>
                            <span class="panel-badge amt">ACC</span>
                        </div>
                        <div class="amt-content">
                            <div class="amt-stats-row">
                                <div class="amt-stat">
                                    <span class="amt-stat-label">Growth Rate</span>
                                    <span class="amt-stat-value" id="amt-growth-rate">1%</span>
                                </div>
                                <div class="amt-stat">
                                    <span class="amt-stat-label">Current P/L</span>
                                    <span class="amt-stat-value" id="amt-current-pnl">$0.00</span>
                                </div>
                                <div class="amt-stat">
                                    <span class="amt-stat-label">Tick Count</span>
                                    <span class="amt-stat-value" id="amt-tick-count">0</span>
                                </div>
                            </div>
                            <div class="amt-growth-selector">
                                <span class="growth-label">Growth Rate:</span>
                                <div class="growth-buttons">
                                    <button class="growth-btn active" data-rate="1">1%</button>
                                    <button class="growth-btn" data-rate="2">2%</button>
                                    <button class="growth-btn" data-rate="3">3%</button>
                                    <button class="growth-btn" data-rate="4">4%</button>
                                    <button class="growth-btn" data-rate="5">5%</button>
                                </div>
                            </div>
                            <div class="amt-direction">
                                <button class="amt-dir-btn call active" id="amt-call-btn">CALL ‚Üë</button>
                                <button class="amt-dir-btn put" id="amt-put-btn">PUT ‚Üì</button>
                            </div>
                            <div class="amt-tpsl">
                                <div class="tpsl-item">
                                    <span class="tpsl-label">Take Profit at:</span>
                                    <span class="tpsl-value" id="amt-tp-value">$0.00</span>
                                </div>
                                <div class="tpsl-item">
                                    <span class="tpsl-label">Stop Loss:</span>
                                    <span class="tpsl-value" id="amt-sl-value">$0.00</span>
                                </div>
                            </div>
                            <div class="amt-progress">
                                <div class="amt-progress-bar">
                                    <div class="amt-progress-fill" id="amt-progress-fill" style="width: 0%"></div>
                                </div>
                                <div class="amt-progress-labels">
                                    <span class="loss-label">SL</span>
                                    <span class="current-label" id="amt-progress-label">0%</span>
                                    <span class="profit-label">TP</span>
                                </div>
                            </div>
                            <div class="amt-status" id="amt-status">
                                <span class="amt-status-text">Ready to trade</span>
                            </div>
                        </div>
                    </div>

                    <div class="strategy-panel sniper-panel" id="sniper-panel" style="display: none;">
                        <div class="panel-header">
                            <span class="panel-title">Sniper - High Probability</span>
                            <span class="panel-badge sniper">SNIPE</span>
                        </div>
                        <div class="sniper-content">
                            <div class="sniper-stats-row">
                                <div class="sniper-stat">
                                    <span class="sniper-stat-label">Signal</span>
                                    <span class="sniper-stat-value" id="sniper-signal">WAIT</span>
                                </div>
                                <div class="sniper-stat">
                                    <span class="sniper-stat-label">Win Rate</span>
                                    <span class="sniper-stat-value" id="sniper-winrate">0%</span>
                                </div>
                                <div class="sniper-stat">
                                    <span class="sniper-stat-label">Session</span>
                                    <span class="sniper-stat-value" id="sniper-session">0W / 0L</span>
                                </div>
                            </div>
                            <div class="sniper-strategy-selector">
                                <span class="strategy-select-label">Strategy:</span>
                                <div class="sniper-strategies">
                                    <button class="sniper-strat-btn active" data-strat="confluence">Confluence</button>
                                    <button class="sniper-strat-btn" data-strat="reversal">Reversal</button>
                                    <button class="sniper-strat-btn" data-strat="momentum">Momentum</button>
                                    <button class="sniper-strat-btn" data-strat="breakout">Breakout</button>
                                </div>
                            </div>
                            <div class="sniper-confidence">
                                <span class="confidence-label">Confidence Level</span>
                                <div class="confidence-meter">
                                    <div class="confidence-fill" id="sniper-confidence-fill" style="width: 0%"></div>
                                </div>
                                <span class="confidence-value" id="sniper-confidence-value">0%</span>
                            </div>
                            <div class="sniper-console" id="sniper-console">
                                <div class="console-line">Sniper ready - High probability entry mode</div>
                            </div>
                        </div>
                    </div>

                    <div class="strategy-panel multi-indicator-panel" id="multi-indicator-panel" style="display: block;">
                        <div class="panel-header">
                            <span class="panel-title">Multi-Indicator Analysis</span>
                            <span class="panel-badge multi">MULTI</span>
                        </div>
                        <div class="indicator-grid">
                            <div class="indicator-card">
                                <span class="indicator-name">RSI</span>
                                <div class="rsi-gauge">
                                    <div class="rsi-bar">
                                        <div class="rsi-fill" id="rsi-fill" style="width: 50%"></div>
                                        <div class="rsi-marker" id="rsi-marker" style="left: 50%"></div>
                                    </div>
                                    <div class="rsi-zones">
                                        <span class="zone-oversold">30</span>
                                        <span class="zone-neutral">50</span>
                                        <span class="zone-overbought">70</span>
                                    </div>
                                </div>
                                <span class="indicator-value" id="rsi-value">50.00</span>
                            </div>
                            <div class="indicator-card">
                                <span class="indicator-name">Trend</span>
                                <div class="trend-indicator" id="trend-indicator">
                                    <span class="trend-arrow">‚Üí</span>
                                    <span class="trend-text">NEUTRAL</span>
                                </div>
                            </div>
                            <div class="indicator-card">
                                <span class="indicator-name">MACD</span>
                                <div class="macd-signal" id="macd-signal">
                                    <span class="macd-histogram neutral">‚ñ¨</span>
                                    <span class="macd-text">NEUTRAL</span>
                                </div>
                            </div>
                            <div class="indicator-card">
                                <span class="indicator-name">Confluence</span>
                                <div class="confluence-score" id="confluence-score">
                                    <span class="confluence-value">0</span>
                                    <span class="confluence-max">/5</span>
                                </div>
                                <div class="confluence-bar">
                                    <div class="confluence-fill" id="confluence-fill" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tick-picker-panel" id="tick-picker-generic-panel">
                    <div class="tick-picker-header">
                        <span class="tick-picker-title">Tick Picker</span>
                        <span class="window-size" id="tick-window-size">Window: 50 ticks</span>
                    </div>
                    <div class="tick-picker-stats">
                        <div class="tick-stat up">
                            <span class="tick-label">UP</span>
                            <span class="tick-count" id="tick-up-count">0</span>
                            <span class="tick-pct" id="tick-up-pct">50%</span>
                        </div>
                        <div class="tick-stat down">
                            <span class="tick-label">DOWN</span>
                            <span class="tick-count" id="tick-down-count">0</span>
                            <span class="tick-pct" id="tick-down-pct">50%</span>
                        </div>
                    </div>
                    <div class="tick-picker-signal" id="tick-picker-signal">
                        <span>WAIT</span>
                    </div>
                </div>
                <div class="tick-analysis-info">
                    <span id="trend-details">No active trend detected</span>
                    <span id="tick-counter">Ticks: 0 | Last: --</span>
                </div>
                <div class="charts-grid" id="charts-grid">
                    <div class="chart-card" data-symbol="R_100">
                        <div class="chart-header">
                            <span class="symbol-name">Volatility 100</span>
                            <span class="current-price" id="price-R_100">--</span>
                        </div>
                        <canvas id="chart-R_100"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="R_75">
                        <div class="chart-header">
                            <span class="symbol-name">Volatility 75</span>
                            <span class="current-price" id="price-R_75">--</span>
                        </div>
                        <canvas id="chart-R_75"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="R_50">
                        <div class="chart-header">
                            <span class="symbol-name">Volatility 50</span>
                            <span class="current-price" id="price-R_50">--</span>
                        </div>
                        <canvas id="chart-R_50"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="R_25">
                        <div class="chart-header">
                            <span class="symbol-name">Volatility 25</span>
                            <span class="current-price" id="price-R_25">--</span>
                        </div>
                        <canvas id="chart-R_25"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="R_10">
                        <div class="chart-header">
                            <span class="symbol-name">Volatility 10</span>
                            <span class="current-price" id="price-R_10">--</span>
                        </div>
                        <canvas id="chart-R_10"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="1HZ100V">
                        <div class="chart-header">
                            <span class="symbol-name">1s Volatility 100</span>
                            <span class="current-price" id="price-1HZ100V">--</span>
                        </div>
                        <canvas id="chart-1HZ100V"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="1HZ75V">
                        <div class="chart-header">
                            <span class="symbol-name">1s Volatility 75</span>
                            <span class="current-price" id="price-1HZ75V">--</span>
                        </div>
                        <canvas id="chart-1HZ75V"></canvas>
                    </div>
                    <div class="chart-card" data-symbol="1HZ50V">
                        <div class="chart-header">
                            <span class="symbol-name">1s Volatility 50</span>
                            <span class="current-price" id="price-1HZ50V">--</span>
                        </div>
                        <canvas id="chart-1HZ50V"></canvas>
                    </div>
                </div>
            </section>

            <section class="positions-section">
                <h2>Active Positions</h2>
                <div class="positions-container" id="positions-container">
                    <div class="no-positions">No active positions</div>
                </div>
            </section>

            <section class="history-section">
                <h2>Trade History</h2>
                <div class="history-stats" id="history-stats">
                    <div class="stat-card">
                        <span class="stat-label">Total Trades</span>
                        <span class="stat-value" id="total-trades">0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Win Rate</span>
                        <span class="stat-value" id="win-rate">0%</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Total P/L</span>
                        <span class="stat-value" id="total-pnl">$0.00</span>
                    </div>
                </div>
                <div class="history-table-container">
                    <table class="history-table" id="history-table">
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Symbol</th>
                                <th>Direction</th>
                                <th>Stake</th>
                                <th>Result</th>
                                <th>Profit</th>
                            </tr>
                        </thead>
                        <tbody id="history-tbody">
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <script src="/static/dashboard.js"></script>
</body>
</html>
